# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 111266 2013-09-17 23:45:04Z ryandesign@macports.org $

# Note: This port already exists in MacPorts, but is limited to Perl 5.16.

PortSystem          1.0
PortGroup           perl5 1.0

perl5.branches      5.8 5.10 5.12 5.14 5.16 5.18 5.20
perl5.setup         Web-Scraper 0.38
license             {Artistic-1 GPL}
categories          perl
maintainers         nstanger-local
description         Web Scraping Toolkit using HTML and CSS Selectors or XPath expressions
long_description    Web::Scraper is a web scraper toolkit, inspired by Ruby's \
                    equivalent Scrapi. It provides a DSL-ish interface for \
                    traversing HTML documents and returning a neatly arranged \
                    Perl data structure.

platforms           darwin

checksums           md5     86948e993114263d6cf133654ead36d8 \
                    sha1    75be5963ec4b003bb76582a519b554c90e9cf6d5 \
                    rmd160  0bf2655fbc315800ab8dcc2ddf82ea65bcf40716

if {${perl5.major} ne ""} {
    depends_lib-append \
        port:p${perl5.major}-test-base \
        port:p${perl5.major}-test-requires \
        port:p${perl5.major}-html-treebuilder-xpath \
        port:p${perl5.major}-uri \
        port:p${perl5.major}-yaml \
        port:p${perl5.major}-html-selector-xpath \
        port:p${perl5.major}-universal-require \
        port:p${perl5.major}-libwww-perl

    depends_build-append \
        port:p${perl5.major}-module-build-tiny
}

perl5.use_module_build

destroot.destdir            --destdir=${destroot}
destroot.post_args-append   --installdirs=vendor
